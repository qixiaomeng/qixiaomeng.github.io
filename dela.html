<!doctype html>
<html>
<head>
<meta charset="utf-8">

<title>延迟菜单</title>
<style>
* { margin:0; padding:0; list-style:none;}
body { background: #f6f9fc; font-family: arial; }
#ul1 { width:100px; border:1px solid #000; background:#ccc;margin-top:20px}
#ul1 li { width:100%; height:30px; line-height:30px; border-bottom:1px solid #000; position:relative;}

#ul1 li span { display:block; text-align:center;}
#ul1 li div { position:absolute; left:110px; top:0; border:1px solid #000; width:500px; height:300px; background:#ccc; display:none;}
</style>
<script>
window.onload = function() {
	var oUl = document.getElementById("ul1");
	var aLi = oUl.getElementsByTagName("li");
	var aDiv = oUl.getElementsByTagName("div");
	var timer = null;
	for (var i = 0; i < aLi.length; i++) {
		aLi[i].onmouseover = function() {
			//alert(this);
			var _this = this;
			clearTimeout(timer); // 解决闪的问题  -- 因为下面 display -- none 在执行 要清除
			timer = setTimeout(function(){
				for (var i = 0; i < aDiv.length; i++) { // 清空所有
					aDiv[i].style.display = "none";
				}
				//alert(this);
				//alert(_this.getElementsByTagName);
				var oDiv = _this.getElementsByTagName("div")[0];
				oDiv.style.display = "block";
			},500);
		};
		
		aLi[i].onmouseout = function() {
			clearTimeout(timer);
			var _this = this;
			timer = setTimeout(function(){
				var oDiv = _this.getElementsByTagName("div")[0];
				oDiv.style.display = "none";
			},500);
		};
		
	}
	
};
</script>
</head>

<body>
	<ul id="ul1">
    	<li>
        	<span>内容一</span>
            <div>11111111111</div>
        </li>
        <li>
        	<span>内容二</span>
            <div>2222222222</div>
        </li>
        <li>
        	<span>内容三</span>
            <div>33333333333</div>
        </li>
        <li>
        	<span>内容四</span>
            <div>444444444444</div>
        </li>
    </ul>
</body>
</html>
